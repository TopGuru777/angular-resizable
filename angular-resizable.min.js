angular.module("angularResizable",[]).directive("resizable",function(){function e(e){void 0===t?(t=e,setTimeout(function(){t(),t=void 0},100)):t=e}var t;return{restrict:"AE",scope:{rDirections:"=",rCenteredX:"=",rCenteredY:"=",rWidth:"=",rHeight:"=",rFlex:"=",rGrabber:"@",rDisabled:"@"},link:function(t,r,i){t.$watch("rWidth",function(e){r[0].style.width=t.rWidth+"px"}),t.$watch("rHeight",function(e){r[0].style.height=t.rHeight+"px"}),r.addClass("resizable");for(var n,s,a,l,o,d=window.getComputedStyle(r[0],null),u=t.rDirections,c=t.rCenteredX?2:1,h=t.rCenteredY?2:1,p=t.rGrabber?t.rGrabber:"<span></span>",x={},g=function(e){x.width=!1,x.height=!1,"x"==o?x.width=parseInt(t.rFlex?r[0].style.flexBasis:r[0].style.width):x.height=parseInt(t.rFlex?r[0].style.flexBasis:r[0].style.height),x.id=r[0].id,x.evt=e},f=function(i){var d="x"==o?a-i.clientX:a-i.clientY;switch(l){case"top":t.rFlex?r[0].style.flexBasis=s+d*h+"px":r[0].style.height=s+d*h+"px";break;case"right":t.rFlex?r[0].style.flexBasis=n-d*c+"px":r[0].style.width=n-d*c+"px";break;case"bottom":t.rFlex?r[0].style.flexBasis=s-d*h+"px":r[0].style.height=s-d*h+"px";break;case"left":t.rFlex?r[0].style.flexBasis=n+d*c+"px":r[0].style.width=n+d*c+"px"}g(i),e(function(){t.$emit("angular-resizable.resizing",x)})},b=function(e){g(e),t.$emit("angular-resizable.resizeEnd",x),t.$apply(),document.removeEventListener("mouseup",b,!1),document.removeEventListener("mousemove",f,!1),r.removeClass("no-transition")},m=function(e,i){l=i,o="left"==l||"right"==l?"x":"y",a="x"==o?e.clientX:e.clientY,n=parseInt(d.getPropertyValue("width")),s=parseInt(d.getPropertyValue("height")),r.addClass("no-transition"),document.addEventListener("mouseup",b,!1),document.addEventListener("mousemove",f,!1),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,g(e),t.$emit("angular-resizable.resizeStart",x),t.$apply()},v=0;v<u.length;v++)!function(){var e=document.createElement("div"),i=u[v];e.setAttribute("class","rg-"+u[v]),e.innerHTML=p,r[0].appendChild(e),e.ondragstart=function(){return!1},e.addEventListener("mousedown",function(e){disabled="true"==t.rDisabled,disabled||1!=e.which||m(e,i)},!1)}()}}});