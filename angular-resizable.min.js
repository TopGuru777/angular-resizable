angular.module("angularResizable",[]).directive("resizable",function(){function e(e){void 0===t?(t=e,setTimeout(function(){t(),t=void 0},100)):t=e}var t;return{restrict:"AE",scope:{rDirections:"=",rCenteredX:"=",rCenteredY:"=",rWidth:"=",rHeight:"=",rFlex:"=",rGrabber:"@",rDisabled:"@"},link:function(t,n,r){var i="flexBasis"in document.documentElement.style?"flexBasis":"webkitFlexBasis"in document.documentElement.style?"webkitFlexBasis":"flexBasis";t.$watch("rWidth",function(e){n[0].style.width=t.rWidth+"px"}),t.$watch("rHeight",function(e){n[0].style.height=t.rHeight+"px"}),n.addClass("resizable");var a,s,o,l,u,d=window.getComputedStyle(n[0],null),c=t.rDirections,h=t.rCenteredX?2:1,m=t.rCenteredY?2:1,p=t.rGrabber?t.rGrabber:"<span></span>",g={},f=function(){g.width=!1,g.height=!1,"x"===u?g.width=parseInt(n[0].style[t.rFlex?i:"width"]):g.height=parseInt(n[0].style[t.rFlex?i:"height"]),g.id=n[0].id},v=function(r){var d,c="x"===u?o-r.clientX:o-r.clientY;switch(l){case"top":case"bottom":d=t.rFlex?i:"height",n[0].style[d]=s+c*m+"px";break;case"right":case"left":d=t.rFlex?i:"width",n[0].style[d]=a-c*h+"px"}f(),e(function(){t.$emit("angular-resizable.resizing",g)})},b=function(e){f(),t.$emit("angular-resizable.resizeEnd",g),t.$apply(),document.removeEventListener("mouseup",b,!1),document.removeEventListener("mousemove",v,!1),n.removeClass("no-transition")},x=function(e,r){l=r,u="left"===l||"right"===l?"x":"y",o="x"===u?e.clientX:e.clientY,a=parseInt(d.getPropertyValue("width")),s=parseInt(d.getPropertyValue("height")),n.addClass("no-transition"),document.addEventListener("mouseup",b,!1),document.addEventListener("mousemove",v,!1),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,f(),t.$emit("angular-resizable.resizeStart",g),t.$apply()};c.forEach(function(e){var r=document.createElement("div");r.setAttribute("class","rg-"+e),r.innerHTML=p,n[0].appendChild(r),r.ondragstart=function(){return!1},r.addEventListener("mousedown",function(n){var r="true"===t.rDisabled;r||1!==n.which||x(n,e)},!1)})}}});